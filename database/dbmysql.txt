
CREATE DATABASES cell_line_schema;
CREATE TABLE Tank(
    Name VARCHAR(100) NOT NULL, #Tank4, NC Tank, Glacier
    PRIMARY KEY(Name)
);
CREATE TABLE Rack(
    Id INT unsigned NOT NULL AUTO_INCREMENT,
    Name INT NOT NULL,
    Tank VARCHAR(100) NOT NULL,
    PRIMARY KEY (Id),
    FOREIGN KEY (Tank) REFERENCES Tank(Name)
);
CREATE TABLE Box(
    Id INT unsigned NOT NULL AUTO_INCREMENT,
    Number INT NOT NULL, 
    Rack_id INT unsigned NOT NULL,
    PRIMARY KEY (Id),
    FOREIGN KEY (Rack_id) REFERENCES Rack(Id)
);
CREATE TABLE Location(
    Id INT unsigned NOT NULL AUTO_INCREMENT,
    Name VARCHAR(5) NOT NULL, #e.g. A1, B9,1,11 ...
    Box_id INT unsigned NOT NULL,
    PRIMARY KEY (Id),
    FOREIGN KEY (Box_id) REFERENCES Box(Id)
);

CREATE TABLE Vial(
    Id INT unsigned NOT NULL AUTO_INCREMENT,
    Location_id INT unsigned NOT NULL, 
    Line VARCHAR(75),
    Passage VARCHAR(75),
    Origin VARCHAR(75),
    Type VARCHAR(75),
    Subtype VARCHAR(75),
    Pool VARCHAR(75),
    CRISPR_EDIT VARCHAR(75),
    Genotype VARCHAR(75),
    Reprogramming_method VARCHAR(75),
    Age INT,
    Gender CHAR(75),
    Info VARCHAR(75),
    Media VARCHAR(75),
    ECM VARCHAR(75),
    Date VARCHAR(75),
    Initials VARCHAR(75),
    Cell_numbers VARCHAR(75),
    Confluency INT,   
    PRIMARY KEY (Id),
    FOREIGN KEY (Location_id) REFERENCES Location(Id)
);

CREATE TABLE Note(
    Id INT unsigned NOT NULL AUTO_INCREMENT,
    Note VARCHAR(500),
    Vial_id INT unsigned NOT NULL,
    PRIMARY KEY (Id),
    FOREIGN KEY (Vial_id) REFERENCES Vial(Id)
);

